(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{113:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return c}),a.d(t,"e",function(){return o}),a.d(t,"b",function(){return s});var n=function(e){return e.dashboardinfo},r=function(e){return e.dashboardlogs},c=function(e){return e.alumnos},o=function(e){return e.profesor},s=function(e){return e.courses}},129:function(e,t,a){"use strict";var n=a(13),r=a(14),c=a(16),o=a(15),s=a(17),l=a(0),i=a.n(l),u=a(93),f=a(78),m=a.n(f),d=(a(94),a(97)),h=a(98),p=a.n(h),y=(a(99),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.logs;return i.a.createElement(u.c,{className:"docu"},i.a.createElement(u.a,null,i.a.createElement(u.d,{size:"A4",style:d.a.body},i.a.createElement(u.b,{style:d.a.image,src:p.a}),i.a.createElement(u.f,{style:d.a.textTitle},"Tutor: ",e[e.length-1].userName),i.a.createElement(u.f,{style:d.a.textTitle},"Curso:  ",e[e.length-1].courseName),i.a.createElement(u.g,{style:d.a.contentData},i.a.createElement(u.g,{style:[{fontSize:12,width:133}]},i.a.createElement(u.f,{style:d.a.text},"Fecha")),i.a.createElement(u.g,{style:[{fontSize:12,width:133}]},i.a.createElement(u.f,{style:d.a.text},"No. de accesos")),i.a.createElement(u.g,{style:[{fontSize:12,width:133}]},i.a.createElement(u.f,{style:d.a.text},"Fecha")),i.a.createElement(u.g,{style:[{fontSize:12,width:133}]},i.a.createElement(u.f,{style:d.a.text},"No. de accesos"))),i.a.createElement(u.g,{style:d.a.content},e.map(function(t,a){if(a!=e.length-1)return i.a.createElement(u.g,{style:[d.a.dataBlock,{height:30}]},i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:133}]},i.a.createElement(u.f,{style:[d.a.text]},null!=t.timecreated?m.a.unix(t.timecreated).format("LL"):"Sin Actividad")),i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:133}]},i.a.createElement(u.f,{style:[d.a.text]},null!=t.timecreated?"".concat(t.count," veces"):"0")))})))))}}]),t}(i.a.Component));t.a=y},174:function(e,t){},175:function(e,t){},176:function(e,t){},177:function(e,t){},198:function(e,t,a){"use strict";var n=a(13),r=a(14),c=a(16),o=a(15),s=a(17),l=a(0),i=a.n(l),u=a(93),f=a(78),m=a.n(f),d=(a(94),a(97)),h=a(98),p=a.n(h),y=(a(99),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data;e.type;return i.a.createElement(u.c,{className:"docu"},i.a.createElement(u.a,null,i.a.createElement(u.d,{size:"A4",style:d.a.body},i.a.createElement(u.b,{style:d.a.image,src:p.a}),i.a.createElement(u.g,{style:d.a.contentData},i.a.createElement(u.g,{style:[{fontSize:7,width:38}]},i.a.createElement(u.f,{style:d.a.text},"No.")),i.a.createElement(u.g,{style:[{fontSize:7,width:108}]},i.a.createElement(u.f,{style:d.a.text},"NOMBRE")),i.a.createElement(u.g,{style:[{fontSize:7,width:178}]},i.a.createElement(u.f,{style:d.a.text},"APELLIDO")),i.a.createElement(u.g,{style:[{fontSize:7,width:98}]},i.a.createElement(u.f,{style:d.a.text},"PRIMER INGRESO")),i.a.createElement(u.g,{style:[{fontSize:7,width:98}]},i.a.createElement(u.f,{style:d.a.text},"\xdaLTIMO INGRESO"))),i.a.createElement(u.g,{style:d.a.content},t[0].map(function(e,t){return i.a.createElement(u.g,{style:t%2==0?[d.a.dataBlock,{height:38.25}]:[d.a.dataBlockback,{height:38.25}]},i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:38}]},i.a.createElement(u.f,{style:d.a.text},t+1)),i.a.createElement(u.g,{style:[d.a.textData,{width:108,textAlign:"left !important"}]},i.a.createElement(u.f,{style:[d.a.text,{fontSize:8}]},e.firstname)),i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:178,paddingLeft:7,paddingRight:7}]},i.a.createElement(u.f,{style:d.a.text},e.lastname)),i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:98}]},i.a.createElement(u.f,{style:d.a.text},0!=e.firstaccess?m.a.unix(e.firstaccess).format("LL")+"\n":"sin ingreso\n")),i.a.createElement(u.g,{style:[d.a.textData,{fontSize:7,width:135,paddingRight:30}]},i.a.createElement(u.f,{style:d.a.text},0!=e.lastaccess?m.a.unix(e.lastaccess).format("LL")+"\n":"sin ingreso\n")))})),i.a.createElement(u.f,{style:d.a.pageNumber,render:function(e){var t=e.pageNumber,a=e.totalPages;return"".concat(t," / ").concat(a)},fixed:!0}))))}}]),t}(i.a.Component));t.a=y},834:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(14),c=a(16),o=a(15),s=a(17),l=a(0),i=a.n(l),u=a(124),f=a(95),m=a(318),d=a(847),h=a(843),p=a(134),y=a(92),E=a(29),g=(a(125),a(126),a(127),a(31)),b=a(7),x=a(851),v=a(89),w=a(90),S=Object(x.a)(b.c,Object(v.a)(w.f+"/0/"+b.h)),j=a(113),O=a(153),C=a.n(O),N=a(189),D=a.n(N),k=a(157),z=a.n(k),B=a(158),F=a.n(B),M=(a(156),a(190),a(191),a(198)),A=(a(129),a(840)),T=(a(78),a(94),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).closePDFmodal=function(){a.setState({open:!1})},a.state={open:!1,pdfLogs:[],userType:3,qualityFilter:function(){},userCourses:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"openPDFmodal",value:function(e,t,a){this.setState({open:!0})}},{key:"componentDidMount",value:function(){0==this.props.courses.length&&this.props.fetchCourses()}},{key:"showCourses",value:function(){var e=this;var t=function(e){return i.a.createElement(u.a,{className:"button-header-container"},i.a.createElement(f.a,{xs:0,sm:6},"."),i.a.createElement(f.a,{xs:6},i.a.createElement(f.a,{xs:12,sm:9,md:7}),i.a.createElement(f.a,{xs:12,sm:9,md:7},i.a.createElement(m.a,{className:"btn_left",variant:"outline-primary",onClick:function(){e.onExport()}},i.a.createElement(y.a,{text:"CSV"})))))};var a=[{dataField:"courseid",csvFormatter:function(e,t){return t.fullname},text:"Nombre",title:!1,formatter:function(e,t){return i.a.createElement(u.a,{className:"name-format"},i.a.createElement(f.a,null,i.a.createElement("p",null,i.a.createElement("strong",null,t.fullname))))},align:"left",csvText:"Nombre",classes:"columnbtable"},{dataField:"fullname",text:"Profesores",formatter:function(e,t){return t.profesor.map(function(e,t,a){return i.a.createElement("p",null,"".concat(e.firstname," ").concat(e.lastname))})},csvFormatter:function(e,t){return t.profesor.map(function(e,t,a){return"".concat(e.firstname," ").concat(e.lastname)})},align:"left",csvText:"Profesores",classes:"columnbtable"}];if(this.state.userCourses)return i.a.createElement(u.a,{className:"tableUsers-list"},i.a.createElement(f.a,{xs:"12"},i.a.createElement(D.a,{keyField:"id",data:this.state.userCourses,columns:a,exportCSV:{onlyExportFiltered:!0,exportAll:!1,noAutoBOM:!1,fileName:"Cursos.csv"}},function(a){return i.a.createElement(f.a,{xs:"12",className:"cont-table-csv-course"},i.a.createElement(t,a.csvProps),i.a.createElement(C.a,Object.assign({},a.baseProps,{onDataSizeChange:e.handleDataChange,condensed:!0,striped:!0,hover:!0,bordered:!1,pagination:z()(),noDataIndication:"No se encontraron alumnos",filter:F()()})))})))}},{key:"render",value:function(){if(0==this.state.userCourses.length&&this.props.courses.length>0){var e=function(e){var t=[],a=-1,n=new Map,r=!0,c=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var i=s.value;n.has(i.courseid)?t[a].profesor.push({firstname:i.firstname,lastname:i.lastname}):(n.set(i.courseid,!0),a+=1,t.push({courseid:i.courseid,fullname:i.fullname,profesor:[{firstname:i.firstname,lastname:i.lastname}]}))}}catch(u){c=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}return console.log(t),t}(this.props.courses);this.setState({userCourses:e})}return i.a.createElement(E.a,null,i.a.createElement(d.a,{show:this.state.open,onHide:this.closePDFmodal,dialogClassName:"modal-pdf"},i.a.createElement(d.a.Header,{closeButton:!0},i.a.createElement(d.a.Title,null,"Concentrado de tutores")),i.a.createElement(d.a.Body,null,this.props.courses.length>0?i.a.createElement(M.a,{data:this.props.courses,type:"alumnos"}):i.a.createElement(u.a,{className:"justify-content-md-center"},i.a.createElement(f.a,{xs:"12",class:"spinner_col"},i.a.createElement(h.a,{animation:"grow",variant:"info"}),"Cargando..."))),i.a.createElement(d.a.Footer,null,i.a.createElement(m.a,{variant:"secondary",onClick:this.closePDFmodal},"Cerrar"))),i.a.createElement(u.a,{className:"header-container"},i.a.createElement(f.a,{xs:"6",sm:"3",className:"header-new-format"},"CURSOS "),i.a.createElement(f.a,{xs:"2",sm:"1",className:"header-count"},this.state.userCourses.length)),i.a.createElement(u.a,null,i.a.createElement(f.a,{md:12,xl:12},i.a.createElement(p.a,null,i.a.createElement(p.a.Body,{className:"px-0 py-2"},this.showCourses())))))}}]),t}(i.a.Component));t.default=Object(A.a)(Object(g.b)(function(e){return{courses:Object(j.b)(e)}},function(e){return{fetchCourses:function(){return e(S())}}})(T))},89:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return l}),a.d(t,"b",function(){return i});var n=a(78),r=a.n(n),c=function(e){return function(){return fetch(e).then(function(e){return e.json()})}},o=function(e,t,a,n){return fetch("".concat(e,"/").concat(t,"/").concat(a,"/").concat(n)).then(function(e){return e.json().then(function(e){var t=[],a=new Map,n=0,r=-1,c=0,o=0,s=0,l=new Map,i=!0,u=!1,f=void 0;try{for(var m,d=e[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var h=m.value;a.has(h.id_user+h.courseid)?(c+=1,t[r].courses[n].count=c+1):(a.set(h.id_user+h.courseid,!0),c=0,l.has(h.id_user)?(n+=1,t[r].courses.push({fullname:h.fullname,count:c+1,first:0,last:0})):(l.set(h.id_user,!0),n=0,r+=1,t.push({nombre:h.firstname+" "+h.apellido,courses:[{fullname:h.fullname,count:c+1,first:0,last:0}]}))),(o>h.timecreated||0===o||0===t[r].courses[n].first)&&(o=h.timecreated,t[r].courses[n].first=h.timecreated),(s<h.timecreated||0===s||0===t[r].courses[n].last)&&(s=h.timecreated,t[r].courses[n].last=h.timecreated)}}catch(p){u=!0,f=p}finally{try{i||null==d.return||d.return()}finally{if(u)throw f}}return t})}).catch(function(e){return console.log("Error "+e)})},s=function(e,t,a,n,c){return fetch("".concat(e,"/").concat(t,"/").concat(a,"/").concat(n)).then(function(e){return e.json().then(function(e){if(0==n){var t=[],a=0,o=-1,s=0,l=0,i=0,u=new Map,f=!0,m=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(f=(h=p.next()).done);f=!0){var y=h.value;u.has(y.courseid)?(i+=1,t[o].total=i,a+=1,t[o].count=a+1):(u.set(y.courseid,!0),a=0,null!=y.timecreated?i+=1:i+=0,o+=1,t.push({courseid:y.courseid,fullname:y.fullname,userid:y.userid,name:y.name,count:a+1,total:i,first:0,last:0})),(s>y.timecreated||0===s||0===t[o].first)&&(s=y.timecreated,t[o].first=y.timecreated),(l<y.timecreated||0===l||0===t[o].last)&&(l=y.timecreated,t[o].last=y.timecreated)}}catch(N){m=!0,d=N}finally{try{f||null==p.return||p.return()}finally{if(m)throw d}}return t}var E=[],g=0,b=-1,x=new Map,v=!0,w=!1,S=void 0;try{for(var j,O=e[Symbol.iterator]();!(v=(j=O.next()).done);v=!0){var C=j.value;x.has(r.a.unix(C.timecreated).format("YYYY-MM-DD"))?(g+=1,E[b].count=g):(x.set(r.a.unix(C.timecreated).format("YYYY-MM-DD"),!0),g=null!=C.timecreated?1:0,b+=1,E.push({timecreated:C.timecreated,count:g}))}}catch(N){w=!0,S=N}finally{try{v||null==O.return||O.return()}finally{if(w)throw S}}return E.push({courseName:e[0].fullname,userName:c}),console.log("logs logsJson"),console.log(e),E})}).catch(function(e){return console.log("Error "+e)})},l=function(e){return fetch("".concat(e)).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){return console.log("Error "+e)})},i=function(e,t,a){return fetch("".concat(e,"/").concat(t,"/").concat(a)).then(function(e){return e.json().then(function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var s=c.value;t.push(s.userid)}}catch(l){n=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return t})}).catch(function(e){return console.log("Error "+e)})}},90:function(e,t,a){"use strict";a.d(t,"e",function(){return r}),a.d(t,"b",function(){return c}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return s}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return i});var n="http://campus-virtuales.com/sigem/public/",r="".concat(n,"usuarios"),c="".concat(n,"basicinfo"),o="".concat(n,"courselogs"),s="".concat(n,"logs"),l="".concat(n,"courses"),i="".concat(n,"courseuser")},92:function(e,t,a){"use strict";var n=a(13),r=a(14),c=a(16),o=a(15),s=a(17),l=a(0),i=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.text;return e.charAt(0).toUpperCase()+e.slice(1)}}]),t}(a.n(l).a.Component);t.a=i},97:function(e,t,a){"use strict";var n=a(93).e.create({body:{paddingTop:35,paddingBottom:40.9,paddingHorizontal:19},content:{flexDirection:"row",flexWrap:"wrap"},contentData:{flexDirection:"row",backgroundColor:"#ebe8e1",flexWrap:"wrap",border:"1 solid #3f4d67",paddingBottom:5},block:{height:30,width:94},text:{marginTop:5,textAlign:"center",fontSize:8},textData:{verticalAlign:"baseline",marginTop:5,borderBottom:"1px solid blue !important",borderBottomWidth:"5px",borderBottomStyle:"solid"},dataBlock:{flexDirection:"row",flexWrap:"wrap",textAlign:"center"},dataBlockback:{flexDirection:"row",flexWrap:"wrap",textAlign:"center",backgroundColor:"#d1cec6"},image:{width:"100%",backgroundColor:"white",height:56.5},pageNumber:{position:"absolute",fontSize:6,bottom:30,left:0,right:0,textAlign:"center",color:"grey"},textTitle:{fontSize:10}});t.a=n},98:function(e,t,a){e.exports=a.p+"static/media/concentrado_tutores.97fa793c.jpg"},99:function(e,t,a){e.exports=a.p+"static/media/vasijas_final.b276690b.jpg"}}]);
//# sourceMappingURL=22.5e396f00.chunk.js.map